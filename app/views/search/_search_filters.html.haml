- content_for :head do
  %link{href: "https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/choices.min.css", rel: "stylesheet"}

.search-filters
  = search_form_for @q, data: { controller: "autosubmit toggle" , target: "autosubmit.form", action: "ajax:success->autosubmit#success ajax:error->autosubmit#error" }, remote: true do |f|

    .search-filters-containers
      -# = render './search/search_input', locals: f: f, cached: true
      .classrooms-page-header
        .flex-1.min-w-0
          %h2
            Filter Classrooms
      .search-for-buildings-container
        // %label.filters-section-header-building{for: "building_name"} Buildings
        .flex.mt-1.shadow-sm
          .relative.flex-grow{class: "focus-within:z-10"}
            .absolute.inset-y-0.left-0.flex.items-center.pl-3.pointer-events-none
              %svg.w-5.h-5.text-gray-400{fill: "currentColor", viewbox: "0 0 20 20"}
                %path{d: "M8 4C5.79086 4 4 5.79086 4 8C4 10.2091 5.79086 12 8 12C10.2091 12 12 10.2091 12 8C12 5.79086 10.2091 4 8 4ZM2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8C14 9.29583 13.5892 10.4957 12.8907 11.4765L17.7071 16.2929C18.0976 16.6834 18.0976 17.3166 17.7071 17.7071C17.3166 18.0976 16.6834 18.0976 16.2929 17.7071L11.4765 12.8907C10.4957 13.5892 9.29583 14 8 14C4.68629 14 2 11.3137 2 8Z"}
            -# %input#buidling_name.block.w-full.pl-10.transition.duration-150.ease-in-out.rounded-none.form-input.rounded-l-md.sm:text-sm.sm:leading-5{placeholder: "Building Name"}/
            .search-by-building-name#buidling_name{class: "block w-full  transition duration-150 ease-in-out rounded-none form-input py-0 rounded-l-md sm:text-sm sm:leading-5  xl:rounded-r-md"}
              = f.select :facility_code_heprod_or_room_number_or_building_name_or_building_nick_name_or_building_abbreviation_in, @searchable_buildings, {:prompt => 'Building Name'}, {multiple: true, data: {controller: "choices", target: "choices.choice", action: "autosubmit#change"}}

          - if current_user
            %button.search-filters-button{data: {action: "click->toggle#toggle touch->toggle#toggle"}}
              .additional-filters-button
                %svg{:viewbox => "0 0 512 512", :xmlns => "http://www.w3.org/2000/svg", data: {target: "toggle.toggleable" } }
                  %path{:d => "M504 384H192v-40c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v40H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h88v40c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-40h312c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm-344 64h-32v-96h32v96zM504 96H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v40H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h152v40c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-40h248c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm-280 64h-32V64h32v96zm280 80h-88v-40c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v40H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h312v40c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-40h88c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm-120 64h-32v-96h32v96z"}

                %svg.hidden{:viewbox => "0 0 512 512", :xmlns => "http://www.w3.org/2000/svg", data: {target: "toggle.toggleable" }}
                  %path{:d => "M160 168v-48c0-13.3-10.7-24-24-24H96V8c0-4.4-3.6-8-8-8H72c-4.4 0-8 3.6-8 8v88H24c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h40v312c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8V192h40c13.3 0 24-10.7 24-24zm-32-8H32v-32h96v32zm152 160h-40V8c0-4.4-3.6-8-8-8h-16c-4.4 0-8 3.6-8 8v312h-40c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h40v88c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-88h40c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm-8 64h-96v-32h96v32zm152-224h-40V8c0-4.4-3.6-8-8-8h-16c-4.4 0-8 3.6-8 8v152h-40c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h40v248c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8V256h40c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm-8 64h-96v-32h96v32z"}
                %div Filters




      = render './search/search_result_tools', cached: true

    - if current_user
      .filters-container.hidden{data: {target: "toggle.toggleable" }}
        .capacity-school
          = render './search/capacity_slider',  f: f
          = render './search/school_or_college',  f: f

        = render './search/classroom_amenities', f: f
        = render './search/classroom_type', f: f
        = render 'search/writing_surface', f: f
        = render 'search/projection_type', f: f
