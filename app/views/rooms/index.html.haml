%h1 Rooms#index
%p Find me in app/views/rooms/index.html.haml
-# = console


= search_form_for @q, url: search_rooms_path,
                        html: { method: :post } do |f|
  .rooms-search-bar
    .rooms-search-matches
      = "#{@q.result.count} Matches"
    .rooms-search-field.input-group

      = f.search_field :facility_code_heprod_or_building_name_or_building_nick_name_or_building_abbreviation_cont, placeholder: 'Search...', class: 'form-control', "aria-describedby" => "Search for Rooms", "aria-label" => "Search for rooms", :placeholder => "Search", :type => "text", "aria-controls" => "rooms-search-filters", "aria-expanded" => "false", "data-toggle" => "collapse", :href => ".rooms-search-filters"

      -# %input.form-control{"aria-describedby" => "Search for Rooms", "aria-label" => "Search for rooms", :placeholder => "Search", :type => "text", "aria-controls" => "rooms-search-filters", "aria-expanded" => "false", "data-toggle" => "collapse", :href => ".rooms-search-filters"}
      .input-group-append
        %button#button-addon2.btn.btn-secondary{:type => "button", "aria-controls" => "rooms-search-filters", "aria-expanded" => "false", "data-toggle" => "collapse", :href => ".rooms-search-filters" }
          %i.fas.fa-filter
          Filters
    .rooms-search--sort-by
      %i.fas.fa-sort-amount-down
      Sort By
    .rooms-search--capacity
      %i.fas.fa-users
      Student Capacity
    .rooms-search--map
      %i.fas.fa-map
      Map

  .rooms-search-filters.collapsed
    .rooms-search--top
      .rooms-search--department
        %i.fas.fa-project-diagram
        Department
      .rooms-search--buildings
        %i.fas.fa-building
        Buildings
      .rooms-search--room-type
        Room Type

    .NOTES
      New Room Characteristics

    .rooms-search--profile
      .team-tables
        .form-group.form-check
          %input#Chkbrd.form-check-input{ :type => 'checkbox', onchange: 'this.form.submit();' }
          %label.form-check-label{ :for => 'Chkbrd' } Seating: Team Tables
        0060 Seating: Team Tables

      .team-technology
        .form-group.form-check
          %input#Chkbrd.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Chkbrd' } Equipment: Team Technology
        0061 Equipment: Team Technology

      .team-writing
        .form-group.form-check
          %input#Chkbrd.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Chkbrd' } Board: Team Writing Surface
        0062 Board: Team Writing Surface

    .rooms-search--checkboxes.row
      .filters--list
        %h5
          %i.fas.fa-chalkboard
          Writing Surface


        .form-group.form-check
          .form-check-input= check_box_tag('q[room_characteristics_chrstc_descrshort_cont_any][]', 'DVD')
          %label.form-check-label{ :for => 'DVD' } DVD




        %hr

        .form-group.form-check

          %input#Chkbrd.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Chkbrd' } Chaulkboard
        .form-group.form-check
          %input#Chkbrd_25.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Chkbrd_25' } Chaulkboard greater than 25'
        .form-group.form-check
          %input#Whtbrd.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Whtbrd' } Whiteboard
        .form-group.form-check
          %input#Whtbrd_25.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Whtbrd_25' } Whiteboard greater than 25'

        %h5
          %i.fas.fa-video
          Projection
        .form-group.form-check
          %input#Proj16mm.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Proj16mm' } 16mm Film
        .form-group.form-check
          %input#Proj35mm.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Proj35mm' } 35mm Film
        .form-group.form-check
          %input#ProjDigit.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'ProjDigit' } Digital Data
        .form-group.form-check
          %input#ProjSlide.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'ProjSlide' } Traditional Slide'

      .filters--list
        %h5
          %i.fas.fa-film
          Audio Visual
        .form-group.form-check
          %input#Blackout.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Blackout' } Blackout (Room Darkening)
        .form-group.form-check
          %input#DVD.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'DVD' } DVD Player
        .form-group.form-check
          %input#BluRay.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'BluRay' } BluRay DVD
        .form-group.form-check
          %input#VCR.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'VCR' } VCR
        .form-group.form-check
          %input#DocCam.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'DocCam' } Document Cam
        .form-group.form-check
          %input#IntrPen.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'IntrPen' } Interactive Pen
        .form-group.form-check
          %input#LectureCap.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'LectureCap' } Lecture Capture
        .form-group.form-check
          %input#Telephone.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Telephone' } Telephone
        .form-group.form-check
          %input#VideoConf.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'VideoConf' } Video Conferencing'

      .filters--list
        %h5
          %i.fas.fa-laptop
          Podium Computer
        .form-group.form-check
          %input#CompPodMac.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'CompPodMac' } Mac
        .form-group.form-check
          %input#CompPodPC.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'CompPodPC' } PC

        %h5
          %i.fas.fa-keyboard
          Computer Classroom
        .form-group.form-check
          %input#CompAny.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'CompAny' } Any
        .form-group.form-check
          %input#CompMac.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'CompMac' } Mac
        .form-group.form-check
          %input#CompPC.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'CompPC' } PC

        %h5
          %i.fas.fa-plug
          Power / Ethernet
        .form-group.form-check
          %input#Ethernet.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'Ethernet' } Ethernet for Instructor
        .form-group.form-check
          %input#EthrStud.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'EthrStud' } Ethernet for Students
        .form-group.form-check
          %input#PowerStud.form-check-input{ :type => 'checkbox' }
          %label.form-check-label{ :for => 'PowerStud' } Power for Students


- @rooms.each do |r|
  .room-row
    = r.rmrecnbr
    = r.room_number
    = r.building.name

= paginate @rooms

:javascript
  $('input[type="checkbox"]').change(function() {
    this.form.submit();

    // $.ajax({
    //   url: "rooms_path",
    //   data: $(".form-check-input").serialize();
    // });
  });
